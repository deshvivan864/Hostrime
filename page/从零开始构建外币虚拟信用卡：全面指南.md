# 从零开始构建外币虚拟信用卡：全面指南

> **编辑导读**：随着全球化的不断深入，跨国贸易日益频繁，外币虚拟信用卡成为了不可或缺的工具。本文将详细解析如何从零起步搭建外币虚拟信用卡，助你轻松应对跨境支付需求。

![外币虚拟信用卡](https://bbtdd.com/img/0871881072936.webp)

笔者最近参与了外币虚拟信用卡项目，项目即将上线。借此机会，我对整个项目进行了总结，希望与读者分享经验，进一步交流。

## 一、项目准备

### 1. 选择卡片类型

在项目初期，明确卡片的最终使用场景至关重要。是用于特定行业的商户，还是需要覆盖广泛的海外商户？这将决定我们选择预付卡、借记卡还是信用卡。通常，信用卡在海外商户中的支持度最高，其次是借记卡，最后是预付卡。笔者的项目面向B端，覆盖跨境出口电商和海外线上消费，因此选择了企业借记卡。

### 2. 选择发卡通道

确定使用场景后，选择接入的卡组织是关键。Visa和Mastercard是常见的选择。实力强大的公司可以直接与Visa或Mastercard对接发卡，而更多企业则通过对接发卡通道来完成发卡。笔者的项目对接了一家非银行的发卡机构。

### 3. 选择持卡人账户模型

发卡通道通常提供两种持卡人账户模型：鉴权模式和懒人模式。两种模式下，通道都会提供一个资金池账户。

- **鉴权模式**：交易发生时，发卡通道会询问是否继续完成交易。当确认后，实时扣除资金池账户中的交易金额。
- **懒人模式**：发卡通道记录持卡人卡内余额，交易实时从卡内余额扣除。交易完成前，我们对交易一无所知。

鉴权模式更为灵活，适合需要扩展性的场景，如营销活动。懒人模式则操作简便，但资金压力较大。笔者的项目选择了懒人模式。

## 二、项目建设

项目初期准备工作完成后，进入实际建设阶段。笔者一期建设规划了以下功能：

### 1. 查看卡片详情

包括卡片余额、完整卡号、CVV、有效期、交易明细。这些信息直接从发卡通道接口获取。由于大多数发卡通道位于海外，接口响应时间可能较长。为此，我们采用了缓存策略，主动和被动更新缓存，提升用户体验。

### 2. 卡片充值

笔者的项目是外币卡项目，因此充值以外币资产进行。初始方案为：用户转账到公司海外母公司的对公账户，再手工转账到资产池账户，最后调用发卡通道接口充值到用户卡账户。该方案成本高且手工流程多，因此，我们寻求了更优化的充值方案。

### 3. 卡内余额转出

在功能开发过程中，发卡通道突然告知不支持卡片余额转出。因此，该功能被迫搁置。

### 4. 虚拟信用卡申请

根据发卡通道要求的资料，结合自身业务需求，设计卡申请流程。

### 5. 充值方案优化

对接一款收款产品，通过接口发起转账到资金池账户的交易。结合收款产品和接口转出功能，降低了运营成本，提高了资金操作效率。收款账户直接呈现给用户，每个B端用户提供一个唯一的数字码，便于区分资金来源。

在此基础上，我们引入了用户钱包账户的概念。用户账户余额来自所有转账到收款账户的金额，用户可选择特定金额充值到卡账户。为提升用户体验，资金池账户存放备付金，先垫付用户充值，后批次将收款账户余额转入资金池账户。

### 6. 钱包账户

引入钱包账户后，提供了钱包余额、钱包交易明细查询等功能。这些信息单独维护，不受接口响应时间影响。

### 7. 对账

主要涉及资金池账户对账和持卡人交易对账。资金池账户的对账机制简单，将收款账户的转出交易放入待匹配交易库，与资金池账户的转入交易匹配后改变交易状态。笔者的项目使用懒人模式，暂未采取交易对账机制。

## 三、项目后续

虚拟信用卡的一期搭建工作已接近尾声。后续，我们将继续完善以下功能以更好地服务客户：

### 1. 收款账户优化

为每个B端客户提供独立的海外当地收款账户，用于接收电商平台（如Amazon店铺）和收单渠道（PayPal）的收款。收款账户收到打款后，相应金额增加至用户的钱包账户。

### 2. 换汇

提供用户钱包账户资产换汇功能。

### 3. 钱包账户转出

由于卡账户余额无法转出，我们希望利用钱包账户实现资产转出的功能，避免用户因只能充值到卡账户而产生抵触情绪。

👉 [WildCard | 一分钟注册，轻松订阅海外线上服务](https://bbtdd.com/WildCard)

本文由 @西门吹雪 原创发布于人人都是产品经理，未经作者许可，禁止转载。